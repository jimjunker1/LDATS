<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Conduct a set of Time Series analyses on a set of LDA models — TS_on_LDA • LDATS</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Conduct a set of Time Series analyses on a set of LDA models — TS_on_LDA" />

<meta property="og:description" content="This is a wrapper function that expands the main Time Series
  analyses function (TS) across the LDA models (estimated
  using LDA or LDA_set and the 
  Time Series models, with respect to both continuous time formulas and the 
  number of discrete changepoints. This function allows direct passage of
  the control parameters for the parallel tempering MCMC through to the 
  main Time Series function, TS, via the 
  ptMCMC_controls argument.
check_TS_on_LDA_inputs checks that the inputs to 
  TS_on_LDA are of proper classes for a full analysis." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LDATS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.17</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/LDATS_codebase.html">Latent Dirichlet Allocation Time Series (LDATS)</a>
    </li>
    <li>
      <a href="../articles/rodents-example.html">LDATS Rodents Example</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/weecology/LDATS">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Conduct a set of Time Series analyses on a set of LDA models</h1>
    <small class="dont-index">Source: <a href='https://github.com/weecology/LDATS/blob/master/R/TS_on_LDA.R'><code>R/TS_on_LDA.R</code></a></small>
    <div class="hidden name"><code>TS_on_LDA.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This is a wrapper function that expands the main Time Series
  analyses function (<code><a href='TS.html'>TS</a></code>) across the LDA models (estimated
  using <code><a href='https://www.rdocumentation.org/packages/topicmodels/topics/lda'>LDA</a></code> or <code><a href='LDA_set.html'>LDA_set</a></code> and the 
  Time Series models, with respect to both continuous time formulas and the 
  number of discrete changepoints. This function allows direct passage of
  the control parameters for the parallel tempering MCMC through to the 
  main Time Series function, <code><a href='TS.html'>TS</a></code>, via the 
  <code>ptMCMC_controls</code> argument.</p>
<p><code>check_TS_on_LDA_inputs</code> checks that the inputs to 
  <code>TS_on_LDA</code> are of proper classes for a full analysis.</p>
    
    </div>

    <pre class="usage"><span class='fu'>TS_on_LDA</span>(<span class='no'>LDA_models</span>, <span class='no'>document_covariate_table</span>, <span class='kw'>formulas</span> <span class='kw'>=</span> ~<span class='fl'>1</span>,
  <span class='kw'>nchangepoints</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'><a href='TS_controls_list.html'>TS_controls_list</a></span>())

<span class='fu'>check_TS_on_LDA_inputs</span>(<span class='no'>LDA_models</span>, <span class='no'>document_covariate_table</span>,
  <span class='kw'>formulas</span> <span class='kw'>=</span> ~<span class='fl'>1</span>, <span class='kw'>nchangepoints</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'><a href='TS_controls_list.html'>TS_controls_list</a></span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>LDA_models</th>
      <td><p>List of LDA models (class <code>LDA_set</code>, produced by
<code><a href='LDA_set.html'>LDA_set</a></code>) or a singular LDA model (class <code>LDA</code>,
produced by <code><a href='https://www.rdocumentation.org/packages/topicmodels/topics/lda'>LDA</a></code>).</p></td>
    </tr>
    <tr>
      <th>document_covariate_table</th>
      <td><p>Document covariate table (rows: documents,
columns: time index and covariate options). Every model needs a
covariate to describe the time value for each document (in whatever 
units and whose name in the table is input in <code>control$timename</code>)
that dictates the application of the change points. 
In addition, all covariates named within specific models in
<code>formula</code> must be included. Must be a conformable to a data table,
as verified by <code><a href='check_document_covariate_table.html'>check_document_covariate_table</a></code>.</p></td>
    </tr>
    <tr>
      <th>formulas</th>
      <td><p>Vector of <code><a href='https://www.rdocumentation.org/packages/stats/topics/formula'>formula</a></code>(s) for the 
continuous (non-change point) component of the time series models. Any 
predictor variable included in a formula must also be a column in the
<code>document_covariate_table</code>. Each element (formula) in the vector
is evaluated for each number of change points and each LDA model.</p></td>
    </tr>
    <tr>
      <th>nchangepoints</th>
      <td><p>Vector of <code>integer</code>s corresponding to the number 
of change points to include in the time series models. 0 is a valid input 
corresponding to no change points (<em>i.e.</em>, a singular time series
model), and the current implementation can reasonably include up to 6 
change points. Each element in the vector is the number of change points 
used to segement the data for each formula (entry in <code>formulas</code>) 
component of the TS model, for each selected LDA model.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>Optional class <code>numeric</code> vector of weights for each 
document. Defaults to <code>NULL</code>, translating to an equal weight for
each document. When using <code>multinom_TS</code> in a standard LDATS 
analysis, it is advisable to weight the documents by their total size,
as the result of <code><a href='https://www.rdocumentation.org/packages/topicmodels/topics/lda'>LDA</a></code> is a matrix of 
proportions, which does not account for size differences among documents.
For most models, a scaling of the weights (so that the average is 1) is
most appropriate, and this is accomplished using <code>document_weights</code>.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>Class <code>TS_controls</code> list, holding control parameters
for the Time Series model including the parallel tempering Markov Chain 
Monte Carlo (ptMCMC) controls, generated by 
<code><a href='TS_controls_list.html'>TS_controls_list</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Class <code>TS_on_LDA</code> list of results from <code><a href='TS.html'>TS</a></code> 
  applied for each model on each LDA model input.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
  <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>rodents</span>)
  <span class='no'>document_term_table</span> <span class='kw'>&lt;-</span> <span class='no'>rodents</span>$<span class='no'>document_term_table</span>
  <span class='no'>document_covariate_table</span> <span class='kw'>&lt;-</span> <span class='no'>rodents</span>$<span class='no'>document_covariate_table</span>
  <span class='no'>LDAs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='LDA_set.html'>LDA_set</a></span>(<span class='no'>document_term_table</span>, <span class='kw'>topics</span> <span class='kw'>=</span> <span class='fl'>2</span>:<span class='fl'>3</span>, <span class='kw'>nseeds</span> <span class='kw'>=</span> <span class='fl'>2</span>)
  <span class='no'>LDA_models</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='select_LDA.html'>select_LDA</a></span>(<span class='no'>LDAs</span>)
  <span class='no'>weights</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='document_weights.html'>document_weights</a></span>(<span class='no'>document_term_table</span>)
  <span class='no'>mods</span> <span class='kw'>&lt;-</span> <span class='fu'>TS_on_LDA</span>(<span class='no'>LDA_models</span>, <span class='no'>document_covariate_table</span>,
                    <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(~ <span class='fl'>1</span>, ~ <span class='no'>newmoon</span>), <span class='kw'>nchangepoints</span> <span class='kw'>=</span> <span class='fl'>0</span>:<span class='fl'>1</span>, <span class='no'>weights</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Juniper L. Simonis, Erica M. Christensen, David J. Harris, Renata M. Diaz, Hao Ye, Ethan P. Ethan, S.K. Morgan Ernest.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

